"use strict";(self.webpackChunkconstraTech=self.webpackChunkconstraTech||[]).push([[278],{2278:(A,g,i)=>{i.r(g),i.d(g,{WorkshopsModule:()=>V});var a=i(177),f=i(803),u=i(5668),k=i(8032),d=i.n(k),t=i(7705),v=i(7377),F=i(7886),p=i(9417),m=i(2510);function _(s,r){1&s&&(t.j41(0,"div",15)(1,"div",16)(2,"span",17),t.EFF(3,"Loading..."),t.k0s()()())}function C(s,r){1&s&&(t.j41(0,"div",18),t.EFF(1," We encountered an issue while fetching the requested data. Please try again later. If the issue persists, contact support. "),t.k0s())}function b(s,r){if(1&s&&(t.j41(0,"ng-option",19),t.EFF(1),t.k0s()),2&s){const e=r.$implicit;t.Y8G("value",e),t.R7$(1),t.SpI(" ",e," ")}}function j(s,r){1&s&&(t.j41(0,"div")(1,"p",20),t.EFF(2,"Currently, there is no information to show."),t.k0s()())}function w(s,r){if(1&s&&(t.j41(0,"div",27)(1,"p")(2,"span",28),t.EFF(3,"Tilte:"),t.k0s(),t.EFF(4),t.k0s()()),2&s){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",e.title,"")}}function E(s,r){if(1&s&&(t.j41(0,"div",27)(1,"p")(2,"span",28),t.EFF(3,"Description:"),t.k0s(),t.EFF(4),t.k0s()()),2&s){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",e.description,"")}}function x(s,r){if(1&s&&(t.j41(0,"div",27)(1,"p")(2,"span",28),t.EFF(3,"Status:"),t.k0s(),t.EFF(4),t.k0s()()),2&s){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",e.status,"")}}const S=function(s,r){return{"bg-rejected":s,"bg-confirmed":r}};function M(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",21)(1,"div",22),t.DNE(2,w,5,1,"div",23),t.DNE(3,E,5,1,"div",23),t.DNE(4,x,5,1,"div",23),t.j41(5,"div",24),t.nrm(6,"img",25),t.k0s()(),t.j41(7,"div",26)(8,"button",3),t.bIt("click",function(){const l=t.eBV(e).$implicit,h=t.XpG(),c=t.sdS(20);return t.Njj(h.openModal(c,l))}),t.EFF(9,"Update"),t.k0s()()()}if(2&s){const e=r.$implicit,o=t.XpG();t.Y8G("ngClass",t.l_i(5,S,"Inactive"==e.status,"Active"==e.status)),t.R7$(2),t.Y8G("ngIf",e.title),t.R7$(1),t.Y8G("ngIf",e.description),t.R7$(1),t.Y8G("ngIf",e.status),t.R7$(2),t.Y8G("src",o.apiUrl+e.photo,t.B4B)}}function W(s,r){if(1&s&&(t.j41(0,"ng-option",19),t.EFF(1),t.k0s()),2&s){const e=r.$implicit;t.Y8G("value",e),t.R7$(1),t.SpI(" ",e," ")}}function y(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",29)(1,"p",30),t.EFF(2,"Update WorkShop"),t.k0s(),t.j41(3,"div",31)(4,"form")(5,"div",32)(6,"label",33),t.EFF(7,"Tilte: "),t.k0s(),t.j41(8,"input",34),t.bIt("ngModelChange",function(n){t.eBV(e);const l=t.XpG();return t.Njj(l.selectedworkshop.title=n)}),t.k0s()(),t.j41(9,"div",32)(10,"label",35),t.EFF(11,"Description: "),t.k0s(),t.j41(12,"input",36),t.bIt("ngModelChange",function(n){t.eBV(e);const l=t.XpG();return t.Njj(l.selectedworkshop.description=n)}),t.k0s()(),t.j41(13,"div",32)(14,"label",37),t.EFF(15,"Status: "),t.k0s(),t.j41(16,"ng-select",38),t.bIt("ngModelChange",function(n){t.eBV(e);const l=t.XpG();return t.Njj(l.selectedworkshop.status=n)}),t.DNE(17,W,2,2,"ng-option",10),t.k0s()(),t.j41(18,"div",24)(19,"button",3),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.updateworkshop())}),t.EFF(20,"Submit"),t.k0s()()()()()}if(2&s){const e=t.XpG();t.R7$(8),t.Y8G("ngModel",e.selectedworkshop.title),t.R7$(4),t.Y8G("ngModel",e.selectedworkshop.description),t.R7$(4),t.Y8G("ngModel",e.selectedworkshop.status),t.R7$(1),t.Y8G("ngForOf",e.statusList)}}function G(s,r){if(1&s){const e=t.RV6();t.j41(0,"div",29)(1,"p",39),t.EFF(2,"New Workshop"),t.k0s(),t.j41(3,"form",40,41),t.bIt("ngSubmit",function(){t.eBV(e);const n=t.sdS(4),l=t.XpG();return t.Njj(l.newWorshop(n))}),t.j41(5,"div",42)(6,"label",43),t.EFF(7,"Tilte: "),t.k0s(),t.nrm(8,"input",44),t.k0s(),t.j41(9,"div",42)(10,"label",45),t.EFF(11,"Description: "),t.k0s(),t.nrm(12,"input",46),t.k0s(),t.j41(13,"div",42)(14,"label",47),t.EFF(15,"Image: "),t.k0s(),t.j41(16,"input",48),t.bIt("change",function(n){t.eBV(e);const l=t.XpG();return t.Njj(l.uploadImage(n))}),t.k0s()(),t.j41(17,"div",49)(18,"button",50),t.EFF(19,"Submit"),t.k0s()()()()}if(2&s){const e=t.sdS(4);t.R7$(18),t.Y8G("disabled",e.invalid)}}const I=[{path:"",component:(()=>{class s{constructor(e,o){this.workshopsServices=e,this.modalService=o,this.isLoading=!0,this.isError=!1,this.listOfworkshops=[],this.tempListOfworkshops=[],this.statusList=[],this.apiUrl=u.p.apiUrl}openModal(e,o){o&&(this.selectedworkshop=o),this.modalService.open(e,{centered:!0,size:"lg"})}uploadImage(e){this.file=e.target.files[0]}newWorshop(e){const o=new FormData;o.append("title",e.value.title),o.append("file",this.file,this.file.name),o.append("description",e.value.description),this.workshopsServices.addNewWorkshop(o).subscribe(n=>{d().fire({title:n.message,icon:"success"}).then(()=>{this.modalService.dismissAll(),this.file=null,this.getAllworkshops()})},n=>{console.log(n),d().fire({title:"Error",icon:"error"}).then(()=>{this.modalService.dismissAll(),this.file=null,this.getAllworkshops()})})}getAllworkshops(){this.isLoading=!0,this.isError=!1,this.listOfworkshops=[],this.workshopsServices.getAllworkshops().subscribe(e=>{this.listOfworkshops=e.result,this.tempListOfworkshops=e.result,this.isLoading=!1,this.isError=!1},e=>{console.log("getAllworkshops err: ",e),this.isLoading=!1,this.isError=!0})}updateworkshop(){this.workshopsServices.updateworkshop({_id:this.selectedworkshop._id,status:this.selectedworkshop.status,title:this.selectedworkshop.title,description:this.selectedworkshop.description}).subscribe(o=>{d().fire({title:o.message,icon:"success"}).then(()=>{this.modalService.dismissAll(),this.getAllworkshops()})},o=>{console.log("updateExhibitor err: ",o),d().fire({title:"Error",icon:"error"}).then(()=>{this.modalService.dismissAll(),this.getAllworkshops()})})}onChangeFilter(){this.listOfworkshops=this.FilterStatus?this.tempListOfworkshops.filter(e=>e.status==this.FilterStatus):this.tempListOfworkshops}ngOnInit(){this.getAllworkshops(),this.statusList=this.workshopsServices.getworkshopsStatus()}static{this.\u0275fac=function(o){return new(o||s)(t.rXU(v.x),t.rXU(F.Bq))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-workshops"]],decls:23,vars:6,consts:[[1,"p-3"],[1,"d-flex","justify-content-between"],[1,"h2"],[3,"click"],["class","d-flex justify-content-center",4,"ngIf"],["class","text-center text-danger fs-small",4,"ngIf"],[1,"!isLoading","%%","!isError"],[1,"w-50"],["for",""],["name","status",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","card p-2 my-2",3,"ngClass",4,"ngFor","ngForOf"],["updateContent",""],["newContent",""],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"text-center","text-danger","fs-small"],[3,"value"],[1,"text-secondary","text-center","fs-small","py-3"],[1,"card","p-2","my-2",3,"ngClass"],[1,"row"],["class","col-md-6 col-sm-12",4,"ngIf"],[1,"text-center"],["alt","","height","200px",2,"max-width","100%",3,"src"],[1,"text-center","my-2"],[1,"col-md-6","col-sm-12"],[1,"fw-bold"],[1,"p-3","bg-white"],[1,"text-center","h2"],[1,"py-2"],[1,"my-2"],["for","title",1,"text-secondary"],["type","text","name","title","id","title",1,"form-control",3,"ngModel","ngModelChange"],["for","description",1,"text-secondary"],["type","text","name","description","id","description",1,"form-control",3,"ngModel","ngModelChange"],["for","status",1,"text-secondary"],["name","status",3,"ngModel","ngModelChange"],[1,"h3","text-center"],[3,"ngSubmit"],["newcontentForm","ngForm"],[1,"my-3"],["for","title",1,"label-form"],["type","text","name","title","ngModel","","required","",1,"form-control"],["for","description",1,"label-form"],["type","text","name","description","ngModel","","required","",1,"form-control"],["for","file"],["type","file","name","file","id","file","ngModel","","required","",1,"form-control",3,"change"],[1,"text-center","my-3"],["type","submit",3,"disabled"]],template:function(o,n){if(1&o){const l=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"p",2),t.EFF(3,"WorkShops"),t.k0s(),t.j41(4,"div")(5,"button",3),t.bIt("click",function(){t.eBV(l);const c=t.sdS(22);return t.Njj(n.openModal(c))}),t.EFF(6,"Add Workshop"),t.k0s()()(),t.j41(7,"div"),t.DNE(8,_,4,0,"div",4),t.DNE(9,C,2,0,"div",5),t.j41(10,"div",6)(11,"div")(12,"div",7)(13,"label",8),t.EFF(14," Filter by status: "),t.k0s(),t.j41(15,"ng-select",9),t.bIt("ngModelChange",function(c){return n.FilterStatus=c})("change",function(){return n.onChangeFilter()}),t.DNE(16,b,2,2,"ng-option",10),t.k0s()(),t.DNE(17,j,3,0,"div",11),t.k0s(),t.DNE(18,M,10,8,"div",12),t.k0s()()(),t.DNE(19,y,21,4,"ng-template",null,13,t.C5r),t.DNE(21,G,20,1,"ng-template",null,14,t.C5r)}2&o&&(t.R7$(8),t.Y8G("ngIf",n.isLoading),t.R7$(1),t.Y8G("ngIf",n.isError),t.R7$(6),t.Y8G("ngModel",n.FilterStatus),t.R7$(1),t.Y8G("ngForOf",n.statusList),t.R7$(1),t.Y8G("ngIf",0==n.listOfworkshops.length),t.R7$(1),t.Y8G("ngForOf",n.listOfworkshops))},dependencies:[a.YU,a.Sq,a.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.vS,p.cV,m.vr,m.xt],styles:[".bg-pending[_ngcontent-%COMP%]{background:#fbfbb7d0;border:2px solid #e0e056de}.bg-rejected[_ngcontent-%COMP%]{background:#ebebebe9;border:2px solid #848181e4}.bg-confirmed[_ngcontent-%COMP%]{background:#ceffe0dd;border:2px solid #34f67bc8}button[_ngcontent-%COMP%]{background-color:var(--constraTech-dark-blue);border:var(--constraTech-dark-blue);color:#fff;border-radius:5px}"]})}}return s})()}];let T=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[f.iI.forChild(I),f.iI]})}}return s})();var $=i(8834),R=i(9454),N=i(3719),Y=i(9631),O=i(9115),D=i(2798),L=i(882);let V=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[a.MD,T,L.vg,O.Cn,N.RG,Y.fS,D.Ve,p.YN,m.MQ,$.Hl,R.MY]})}}return s})()}}]);