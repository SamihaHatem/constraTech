"use strict";(self.webpackChunkconstraTech=self.webpackChunkconstraTech||[]).push([[7],{8007:(B,u,a)=>{a.r(u),a.d(u,{PanelsdiscussionModule:()=>D});var c=a(177),p=a(803),_=a(467),h=a(5668),f=a(8032),d=a.n(f),t=a(7705),b=a(7377),v=a(7886),m=a(9115),r=a(9417);function P(s,l){1&s&&(t.j41(0,"div",10)(1,"div",11)(2,"span",12),t.EFF(3,"Loading..."),t.k0s()()())}function F(s,l){1&s&&(t.j41(0,"div",13),t.EFF(1," We encountered an issue while fetching the requested data. Please try again later. If the issue persists, contact support. "),t.k0s())}function j(s,l){1&s&&(t.j41(0,"div")(1,"p",15),t.EFF(2,"Currently, there is no information to show."),t.k0s()())}function C(s,l){if(1&s){const e=t.RV6();t.j41(0,"a",26),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,i=t.XpG(3);return t.Njj(i.updateDis(o._id,"Active"))}),t.j41(1,"p",27),t.EFF(2,"Activate "),t.k0s()()}}function k(s,l){if(1&s){const e=t.RV6();t.j41(0,"a",26),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,i=t.XpG(3);return t.Njj(i.updateDis(o._id,"Inactive"))}),t.j41(1,"p",27),t.EFF(2,"Deactivate"),t.k0s()()}}const T=function(s,l){return{"text-success":s,"text-secondary":l}};function x(s,l){if(1&s&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td",20),t.EFF(4),t.k0s(),t.j41(5,"td",21)(6,"button",22),t.nrm(7,"i",23),t.k0s(),t.j41(8,"mat-menu",null,24),t.DNE(10,C,3,0,"a",25),t.DNE(11,k,3,0,"a",25),t.k0s()()()),2&s){const e=l.$implicit,n=t.sdS(9);t.R7$(2),t.JRh(e.title),t.R7$(1),t.Y8G("ngClass",t.l_i(6,T,"Active"==e.status,"Inactive"==e.status)),t.R7$(1),t.SpI(" ",e.status,""),t.R7$(2),t.Y8G("matMenuTriggerFor",n),t.R7$(4),t.Y8G("ngIf","Inactive"==e.status),t.R7$(1),t.Y8G("ngIf","Active"==e.status)}}function E(s,l){if(1&s&&(t.j41(0,"table",16)(1,"thead")(2,"tr")(3,"th",17),t.EFF(4,"Name"),t.k0s(),t.j41(5,"th",17),t.EFF(6,"Tilte"),t.k0s(),t.nrm(7,"th",18),t.k0s()(),t.j41(8,"tbody"),t.DNE(9,x,12,9,"tr",19),t.k0s()()),2&s){const e=t.XpG(2);t.R7$(9),t.Y8G("ngForOf",e.honorsList)}}function I(s,l){if(1&s&&(t.j41(0,"div")(1,"div"),t.DNE(2,j,3,0,"div",8),t.k0s(),t.DNE(3,E,10,1,"table",14),t.k0s()),2&s){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",0==e.honorsList.length),t.R7$(1),t.Y8G("ngIf",e.honorsList.length>0)}}function N(s,l){if(1&s){const e=t.RV6();t.j41(0,"button",4),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.addCount())}),t.EFF(1,"new person"),t.k0s()}}function w(s,l){if(1&s){const e=t.RV6();t.j41(0,"div",39)(1,"p"),t.EFF(2,"New Person"),t.k0s(),t.j41(3,"div",31)(4,"label",32),t.EFF(5,"Name"),t.k0s(),t.j41(6,"input",33,34),t.bIt("ngModelChange",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.newPersonName=o)}),t.k0s()(),t.j41(8,"div",31)(9,"label",32),t.EFF(10,"Tilte"),t.k0s(),t.j41(11,"input",33,34),t.bIt("ngModelChange",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.newPersonTitle=o)}),t.k0s()(),t.j41(13,"div",31)(14,"label",40),t.EFF(15,"Photo"),t.k0s(),t.j41(16,"input",41),t.bIt("change",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.uploadImage(o))}),t.k0s()(),t.j41(17,"button",42),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.addPersonToList())}),t.EFF(18,"Add"),t.k0s()()}if(2&s){const e=t.XpG(2);t.R7$(6),t.Y8G("ngModel",e.newPersonName),t.R7$(5),t.Y8G("ngModel",e.newPersonTitle),t.R7$(6),t.Y8G("disabled",!e.newPersonName||!e.newPersonTitle||!e.newPersonImage)}}function G(s,l){if(1&s&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.nrm(6,"img",43),t.k0s()()),2&s){const e=l.$implicit;t.R7$(2),t.JRh(e.title),t.R7$(2),t.JRh(e.name),t.R7$(2),t.FS9("src",e.photo,t.B4B)}}function y(s,l){if(1&s&&(t.j41(0,"div")(1,"table",16)(2,"thead")(3,"tr")(4,"th"),t.EFF(5,"tilte"),t.k0s(),t.j41(6,"th"),t.EFF(7,"name"),t.k0s(),t.j41(8,"th"),t.EFF(9,"photo"),t.k0s()()(),t.j41(10,"tbody"),t.DNE(11,G,7,3,"tr",19),t.k0s()()()),2&s){const e=t.XpG(2);t.R7$(11),t.Y8G("ngForOf",e.newPersonsList)}}function L(s,l){if(1&s){const e=t.RV6();t.j41(0,"div",28)(1,"p",29),t.EFF(2,"New"),t.k0s(),t.j41(3,"form",null,30)(5,"div",31)(6,"label",32),t.EFF(7,"Tilte"),t.k0s(),t.j41(8,"input",33,34),t.bIt("ngModelChange",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.panelTitle=o)}),t.k0s()(),t.DNE(10,N,2,0,"button",35),t.DNE(11,w,19,3,"div",36),t.DNE(12,y,12,1,"div",8),t.j41(13,"div",37)(14,"button",38),t.bIt("click",function(){t.eBV(e);const o=t.sdS(4),i=t.XpG();return t.Njj(i.newPanelDis(o))}),t.EFF(15,"submit"),t.k0s()()()()}if(2&s){const e=t.XpG();t.R7$(8),t.Y8G("ngModel",e.panelTitle),t.R7$(2),t.Y8G("ngIf",!e.personsNo),t.R7$(1),t.Y8G("ngIf",e.personsNo),t.R7$(1),t.Y8G("ngIf",e.newPersonsList.length>0),t.R7$(2),t.Y8G("disabled",!e.panelTitle)}}const M=[{path:"",component:(()=>{class s{constructor(e,n){this.discussionServices=e,this.modalServices=n,this.isLoading=!0,this.isError=!1,this.honorsList=[],this.apiUrl=h.p.apiUrl,this.newperson={},this.newPersonsList=[],this.personsNo=!1,this.panelsList=[]}openModal(e){this.modalServices.open(e,{centered:!0,size:"lg"})}convertToBase64(e){return new Promise((n,o)=>{if(!e)return void o("No file provided");const i=new FileReader;i.onload=()=>{this.base64Image=i.result,n(i.result)},i.onerror=g=>{o("Error reading file: "+g)},i.readAsDataURL(e)})}addCount(){this.personsNo=!0}newPanelDis(e){var n=this;return(0,_.A)(function*(){n.discussionServices.newDiscussion({title:n.panelTitle,panelists:n.newPersonsList}).subscribe(i=>{console.log(i),d().fire({title:i.message,icon:"success"}).then(()=>{n.panelTitle=null,n.personsNo=!1,n.newPersonsList=[],n.newPersonImage=null,n.newPersonName=null,n.newPersonTitle=null,n.modalServices.dismissAll(),n.getALL()})},i=>{console.log(i),d().fire({title:"error",icon:"error"}).then(()=>{n.panelTitle=null,n.personsNo=!1,n.newPersonsList=[],n.newPersonImage=null,n.newPersonName=null,n.newPersonTitle=null,n.modalServices.dismissAll(),n.getALL()})})})()}uploadImage(e){var n=this;return(0,_.A)(function*(){n.file=e.target.files[0],n.convertToBase64(n.file),n.newPersonImage=yield n.convertToBase64(n.file)})()}addPersonToList(){this.newPersonsList.push({name:this.newPersonName,photo:this.newPersonImage,title:this.newPersonTitle}),this.personsNo=!1,this.newPersonName=null,this.newPersonImage=null,this.newPersonTitle=null,console.log(this.newPersonsList)}getALL(){this.isLoading=!0,this.isError=!1,this.discussionServices.allDiscussion().subscribe(e=>{console.log(e),this.isLoading=!1,this.isError=!1,this.honorsList=e.result},e=>{console.log(e),this.isLoading=!1,this.isError=!0})}updateDis(e,n){this.discussionServices.updateDisStatus(e,{status:n}).subscribe(o=>{console.log(o),d().fire({title:o.message,icon:"success"}).then(()=>{this.getALL()})},o=>{console.log(o),d().fire({title:"error",icon:"error"}).then(()=>{this.getALL()})})}ngOnInit(){this.getALL()}static{this.\u0275fac=function(n){return new(n||s)(t.rXU(b.x),t.rXU(v.Bq))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-panelsdiscussion"]],decls:14,vars:3,consts:[[1,"p-3"],[1,"d-flex","justify-content-between"],[1,"h2"],[1,"align-content-center"],[1,"px-2","py-1","my-btn",3,"click"],[1,"fa-regular","fa-honor"],["class","d-flex justify-content-center",4,"ngIf"],["class","text-center text-danger fs-small",4,"ngIf"],[4,"ngIf"],["newPanel",""],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"text-center","text-danger","fs-small"],["class","table table-bordered table-hover",4,"ngIf"],[1,"text-secondary","text-center","fs-small","py-3"],[1,"table","table-bordered","table-hover"],[1,"col-3"],[1,"col-1"],[4,"ngFor","ngForOf"],[3,"ngClass"],[2,"text-align","center","align-content","center"],["mat-icon-button","","aria-label","Example icon-button with a menu",1,"fs-small","m-0","p-0",3,"matMenuTriggerFor"],[1,"fa-solid","fa-chevron-down"],["menu","matMenu"],["id","item1","class"," p-0 m-0 h-100 d-block px-1","mat-menu-item","",3,"click",4,"ngIf"],["id","item1","mat-menu-item","",1,"p-0","m-0","h-100","d-block","px-1",3,"click"],["id","mat-item-cutom",1,"px-1","p-0","m-0",2,"font-weight","500"],[1,"p-3","bg-white"],[1,"h3"],["newPhotForm","ngForm"],[1,"my-3"],["for","h_name",1,"label-form","text-secondary"],["type","text","name","h_name","id","h_name","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["h_name","ngModel"],["class","px-2 py-1 my-btn",3,"click",4,"ngIf"],["class","border border-1 p-2",4,"ngIf"],[1,"text-center","my-3"],[1,"my-btn",3,"disabled","click"],[1,"border","border-1","p-2"],["for","photo",1,"label-form","text-secondary"],["type","file","name","photo","id","photo","accept","image/*","required","",1,"form-control",3,"change"],[1,"px-2","py-1","my-btn",3,"disabled","click"],["height","50px","alt","",3,"src"]],template:function(n,o){if(1&n){const i=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"p",2),t.EFF(3,"panels discussion"),t.k0s(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){t.eBV(i);const Y=t.sdS(13);return t.Njj(o.openModal(Y))}),t.EFF(6,"New "),t.nrm(7,"i",5),t.k0s()()(),t.j41(8,"div"),t.DNE(9,P,4,0,"div",6),t.DNE(10,F,2,0,"div",7),t.DNE(11,I,4,2,"div",8),t.k0s()(),t.DNE(12,L,16,5,"ng-template",null,9,t.C5r)}2&n&&(t.R7$(9),t.Y8G("ngIf",o.isLoading),t.R7$(1),t.Y8G("ngIf",o.isError),t.R7$(1),t.Y8G("ngIf",!o.isLoading&&!o.isError))},dependencies:[c.YU,c.Sq,c.bT,m.kk,m.fb,m.Cp,r.qT,r.me,r.BC,r.cb,r.YS,r.vS,r.cV],styles:["button[_ngcontent-%COMP%]{border:0;background-color:transparent}.my-btn[_ngcontent-%COMP%]{background-color:var(--constraTech-dark-blue);border:var(--constraTech-dark-blue);color:#fff;border-radius:5px}.deactivate-btn[_ngcontent-%COMP%]{background-color:gray!important}.activate-btn[_ngcontent-%COMP%]{background-color:#008330!important}.bg-green[_ngcontent-%COMP%]{border-color:#008330!important}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:small}.mat-mdc-icon-button[_ngcontent-%COMP%]   .mat-mdc-button-touch-target[_ngcontent-%COMP%]{top:0%!important;height:0!important;left:0!important;width:0!important}.mat-mdc-menu-item[_ngcontent-%COMP%]{min-height:100%}#mat-item-cutom[_ngcontent-%COMP%]{font-size:13px!important}#item1[_ngcontent-%COMP%]:hover{color:#00f}.mat-mdc-icon-button.mat-mdc-button-base[_ngcontent-%COMP%]{--mdc-icon-button-state-layer-size: 20px}"]})}}return s})()}];let R=(()=>{class s{static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[p.iI.forChild(M),p.iI]})}}return s})();var $=a(2510);let D=(()=>{class s{static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[c.MD,m.Cn,r.YN,$.MQ,R]})}}return s})()}}]);